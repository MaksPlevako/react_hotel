{"ast":null,"code":"var _jsxFileName = \"D:\\\\project\\\\frontend\\\\src\\\\components\\\\alg.js\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction Nomers() {\n  _s();\n  const [data, setData] = useState();\n  useEffect(() => {\n    fetch('http://localhost:8080/nomers').then(res => res.json()).then(data => {\n      setData(data);\n    }).catch(err => console.log(err));\n  }, []);\n  const nomer = data.map(nomer => nomer);\n}\n// Ваші дані про номери готелю\n_s(Nomers, \"WZ2PO9A64oHRexE1CE+yX3ebuoA=\");\n_c = Nomers;\nconst roomData = [Nomers];\n\n// Функція придатності (fitness function)\nconst calculateFitness = room => {\n  return 1 / (room.price / room['number of seats']);\n};\n\n// Генетичний алгоритм для пошуку найкращого номера\nconst geneticAlgorithm = (populationSize, generations) => {\n  // Створення випадкової початкової популяції\n  let population = [];\n  for (let i = 0; i < populationSize; i++) {\n    population.push(roomData[Math.floor(Math.random() * roomData.length)]);\n  }\n\n  // Повторення для кожного покоління\n  for (let gen = 0; gen < generations; gen++) {\n    // Оцінка кожного номера у популяції\n    const evaluatedPopulation = population.map(room => {\n      return {\n        room,\n        fitness: calculateFitness(room)\n      };\n    });\n\n    // Сортування популяції за значенням фітнес-функції (від найкращого до найгіршого)\n    evaluatedPopulation.sort((a, b) => b.fitness - a.fitness);\n\n    // Відбір та схрещування для створення нової популяції\n    const selectedIndividuals = evaluatedPopulation.slice(0, populationSize / 2);\n    const newPopulation = [...selectedIndividuals];\n    while (newPopulation.length < populationSize) {\n      const parentA = selectedIndividuals[Math.floor(Math.random() * selectedIndividuals.length)].room;\n      const parentB = selectedIndividuals[Math.floor(Math.random() * selectedIndividuals.length)].room;\n      const crossoverPoint = Math.floor(Math.random() * Object.keys(parentA).length);\n      const child = {\n        ...parentA,\n        ...parentB\n      };\n\n      // Застосування мутації\n      if (Math.random() < 0.1) {\n        child.price *= Math.random() < 0.5 ? 0.9 : 1.1;\n        child['number of seats'] += Math.random() < 0.5 ? -1 : 1;\n      }\n      newPopulation.push(child);\n    }\n    population = newPopulation;\n  }\n\n  // Повернення найкращого номера з кінцевої популяції\n  return population.reduce((best, room) => {\n    const fitness = calculateFitness(room);\n    return fitness > best.fitness ? {\n      room,\n      fitness\n    } : best;\n  }, {\n    room: null,\n    fitness: -Infinity\n  }).room;\n};\nconst HotelRoomPicker = () => {\n  _s2();\n  const [bestRoom, setBestRoom] = useState(null);\n  useEffect(() => {\n    // Запуск генетичного алгоритму при монтажі компонента\n    const bestRoom = geneticAlgorithm(100, 10);\n    setBestRoom(bestRoom);\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"\\u0413\\u0435\\u043D\\u0435\\u0442\\u0438\\u0447\\u043D\\u0438\\u0439 \\u0432\\u0456\\u0434\\u0431\\u0456\\u0440 \\u043D\\u043E\\u043C\\u0435\\u0440\\u0456\\u0432 \\u0443 \\u0433\\u043E\\u0442\\u0435\\u043B\\u0456\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 4\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      children: [\"\\u041D\\u0430\\u0439\\u0434\\u0435\\u0448\\u0435\\u0432\\u0448\\u0438\\u0439 \\u0442\\u0430 \\u043D\\u0430\\u0439\\u0431\\u0456\\u043B\\u044C\\u0448 \\u043F\\u0440\\u043E\\u0441\\u0442\\u043E\\u0440\\u0438\\u0439 \\u043D\\u043E\\u043C\\u0435\\u0440: \", bestRoom]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 4\n    }, this), bestRoom && /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n        children: [\"\\u041D\\u0430\\u0437\\u0432\\u0430: \", bestRoom['nomers name']]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 6\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [\"\\u0426\\u0456\\u043D\\u0430: \", bestRoom.price]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 6\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [\"\\u041A\\u0456\\u043B\\u044C\\u043A\\u0456\\u0441\\u0442\\u044C \\u043C\\u0456\\u0441\\u0446\\u044C: \", bestRoom['number of seats']]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 6\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 5\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 95,\n    columnNumber: 3\n  }, this);\n};\n_s2(HotelRoomPicker, \"EjzKTQgeVzcvgMCqf962VTkUPjA=\");\n_c2 = HotelRoomPicker;\nexport default HotelRoomPicker;\nvar _c, _c2;\n$RefreshReg$(_c, \"Nomers\");\n$RefreshReg$(_c2, \"HotelRoomPicker\");","map":{"version":3,"names":["React","useState","useEffect","jsxDEV","_jsxDEV","Nomers","_s","data","setData","fetch","then","res","json","catch","err","console","log","nomer","map","_c","roomData","calculateFitness","room","price","geneticAlgorithm","populationSize","generations","population","i","push","Math","floor","random","length","gen","evaluatedPopulation","fitness","sort","a","b","selectedIndividuals","slice","newPopulation","parentA","parentB","crossoverPoint","Object","keys","child","reduce","best","Infinity","HotelRoomPicker","_s2","bestRoom","setBestRoom","children","fileName","_jsxFileName","lineNumber","columnNumber","_c2","$RefreshReg$"],"sources":["D:/project/frontend/src/components/alg.js"],"sourcesContent":["import React, { useState, useEffect } from 'react'\r\n\r\nfunction Nomers() {\r\n\tconst [data, setData] = useState()\r\n\tuseEffect(() => {\r\n\t\tfetch('http://localhost:8080/nomers')\r\n\t\t\t.then(res => res.json())\r\n\t\t\t.then(data => {\r\n\t\t\t\tsetData(data)\r\n\t\t\t})\r\n\t\t\t.catch(err => console.log(err))\r\n\t}, [])\r\n\tconst nomer = data.map(nomer => nomer)\r\n}\r\n// Ваші дані про номери готелю\r\nconst roomData = [Nomers]\r\n\r\n// Функція придатності (fitness function)\r\nconst calculateFitness = room => {\r\n\treturn 1 / (room.price / room['number of seats'])\r\n}\r\n\r\n// Генетичний алгоритм для пошуку найкращого номера\r\nconst geneticAlgorithm = (populationSize, generations) => {\r\n\t// Створення випадкової початкової популяції\r\n\tlet population = []\r\n\tfor (let i = 0; i < populationSize; i++) {\r\n\t\tpopulation.push(roomData[Math.floor(Math.random() * roomData.length)])\r\n\t}\r\n\r\n\t// Повторення для кожного покоління\r\n\tfor (let gen = 0; gen < generations; gen++) {\r\n\t\t// Оцінка кожного номера у популяції\r\n\t\tconst evaluatedPopulation = population.map(room => {\r\n\t\t\treturn { room, fitness: calculateFitness(room) }\r\n\t\t})\r\n\r\n\t\t// Сортування популяції за значенням фітнес-функції (від найкращого до найгіршого)\r\n\t\tevaluatedPopulation.sort((a, b) => b.fitness - a.fitness)\r\n\r\n\t\t// Відбір та схрещування для створення нової популяції\r\n\t\tconst selectedIndividuals = evaluatedPopulation.slice(0, populationSize / 2)\r\n\t\tconst newPopulation = [...selectedIndividuals]\r\n\r\n\t\twhile (newPopulation.length < populationSize) {\r\n\t\t\tconst parentA =\r\n\t\t\t\tselectedIndividuals[\r\n\t\t\t\t\tMath.floor(Math.random() * selectedIndividuals.length)\r\n\t\t\t\t].room\r\n\t\t\tconst parentB =\r\n\t\t\t\tselectedIndividuals[\r\n\t\t\t\t\tMath.floor(Math.random() * selectedIndividuals.length)\r\n\t\t\t\t].room\r\n\t\t\tconst crossoverPoint = Math.floor(\r\n\t\t\t\tMath.random() * Object.keys(parentA).length\r\n\t\t\t)\r\n\r\n\t\t\tconst child = {\r\n\t\t\t\t...parentA,\r\n\t\t\t\t...parentB,\r\n\t\t\t}\r\n\r\n\t\t\t// Застосування мутації\r\n\t\t\tif (Math.random() < 0.1) {\r\n\t\t\t\tchild.price *= Math.random() < 0.5 ? 0.9 : 1.1\r\n\t\t\t\tchild['number of seats'] += Math.random() < 0.5 ? -1 : 1\r\n\t\t\t}\r\n\r\n\t\t\tnewPopulation.push(child)\r\n\t\t}\r\n\r\n\t\tpopulation = newPopulation\r\n\t}\r\n\r\n\t// Повернення найкращого номера з кінцевої популяції\r\n\treturn population.reduce(\r\n\t\t(best, room) => {\r\n\t\t\tconst fitness = calculateFitness(room)\r\n\t\t\treturn fitness > best.fitness ? { room, fitness } : best\r\n\t\t},\r\n\t\t{ room: null, fitness: -Infinity }\r\n\t).room\r\n}\r\n\r\nconst HotelRoomPicker = () => {\r\n\tconst [bestRoom, setBestRoom] = useState(null)\r\n\r\n\tuseEffect(() => {\r\n\t\t// Запуск генетичного алгоритму при монтажі компонента\r\n\t\tconst bestRoom = geneticAlgorithm(100, 10)\r\n\t\tsetBestRoom(bestRoom)\r\n\t}, [])\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<h2>Генетичний відбір номерів у готелі</h2>\r\n\t\t\t<p>Найдешевший та найбільш просторий номер: {bestRoom}</p>\r\n\t\t\t{bestRoom && (\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<p>Назва: {bestRoom['nomers name']}</p>\r\n\t\t\t\t\t<p>Ціна: {bestRoom.price}</p>\r\n\t\t\t\t\t<p>Кількість місць: {bestRoom['number of seats']}</p>\r\n\t\t\t\t\t{/* Додайте інші дані про номер, які вам потрібні */}\r\n\t\t\t\t</div>\r\n\t\t\t)}\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nexport default HotelRoomPicker\r\n"],"mappings":";;;AAAA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAAA,SAAAC,MAAA,IAAAC,OAAA;AAElD,SAASC,MAAMA,CAAA,EAAG;EAAAC,EAAA;EACjB,MAAM,CAACC,IAAI,EAAEC,OAAO,CAAC,GAAGP,QAAQ,CAAC,CAAC;EAClCC,SAAS,CAAC,MAAM;IACfO,KAAK,CAAC,8BAA8B,CAAC,CACnCC,IAAI,CAACC,GAAG,IAAIA,GAAG,CAACC,IAAI,CAAC,CAAC,CAAC,CACvBF,IAAI,CAACH,IAAI,IAAI;MACbC,OAAO,CAACD,IAAI,CAAC;IACd,CAAC,CAAC,CACDM,KAAK,CAACC,GAAG,IAAIC,OAAO,CAACC,GAAG,CAACF,GAAG,CAAC,CAAC;EACjC,CAAC,EAAE,EAAE,CAAC;EACN,MAAMG,KAAK,GAAGV,IAAI,CAACW,GAAG,CAACD,KAAK,IAAIA,KAAK,CAAC;AACvC;AACA;AAAAX,EAAA,CAZSD,MAAM;AAAAc,EAAA,GAANd,MAAM;AAaf,MAAMe,QAAQ,GAAG,CAACf,MAAM,CAAC;;AAEzB;AACA,MAAMgB,gBAAgB,GAAGC,IAAI,IAAI;EAChC,OAAO,CAAC,IAAIA,IAAI,CAACC,KAAK,GAAGD,IAAI,CAAC,iBAAiB,CAAC,CAAC;AAClD,CAAC;;AAED;AACA,MAAME,gBAAgB,GAAGA,CAACC,cAAc,EAAEC,WAAW,KAAK;EACzD;EACA,IAAIC,UAAU,GAAG,EAAE;EACnB,KAAK,IAAIC,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGH,cAAc,EAAEG,CAAC,EAAE,EAAE;IACxCD,UAAU,CAACE,IAAI,CAACT,QAAQ,CAACU,IAAI,CAACC,KAAK,CAACD,IAAI,CAACE,MAAM,CAAC,CAAC,GAAGZ,QAAQ,CAACa,MAAM,CAAC,CAAC,CAAC;EACvE;;EAEA;EACA,KAAK,IAAIC,GAAG,GAAG,CAAC,EAAEA,GAAG,GAAGR,WAAW,EAAEQ,GAAG,EAAE,EAAE;IAC3C;IACA,MAAMC,mBAAmB,GAAGR,UAAU,CAACT,GAAG,CAACI,IAAI,IAAI;MAClD,OAAO;QAAEA,IAAI;QAAEc,OAAO,EAAEf,gBAAgB,CAACC,IAAI;MAAE,CAAC;IACjD,CAAC,CAAC;;IAEF;IACAa,mBAAmB,CAACE,IAAI,CAAC,CAACC,CAAC,EAAEC,CAAC,KAAKA,CAAC,CAACH,OAAO,GAAGE,CAAC,CAACF,OAAO,CAAC;;IAEzD;IACA,MAAMI,mBAAmB,GAAGL,mBAAmB,CAACM,KAAK,CAAC,CAAC,EAAEhB,cAAc,GAAG,CAAC,CAAC;IAC5E,MAAMiB,aAAa,GAAG,CAAC,GAAGF,mBAAmB,CAAC;IAE9C,OAAOE,aAAa,CAACT,MAAM,GAAGR,cAAc,EAAE;MAC7C,MAAMkB,OAAO,GACZH,mBAAmB,CAClBV,IAAI,CAACC,KAAK,CAACD,IAAI,CAACE,MAAM,CAAC,CAAC,GAAGQ,mBAAmB,CAACP,MAAM,CAAC,CACtD,CAACX,IAAI;MACP,MAAMsB,OAAO,GACZJ,mBAAmB,CAClBV,IAAI,CAACC,KAAK,CAACD,IAAI,CAACE,MAAM,CAAC,CAAC,GAAGQ,mBAAmB,CAACP,MAAM,CAAC,CACtD,CAACX,IAAI;MACP,MAAMuB,cAAc,GAAGf,IAAI,CAACC,KAAK,CAChCD,IAAI,CAACE,MAAM,CAAC,CAAC,GAAGc,MAAM,CAACC,IAAI,CAACJ,OAAO,CAAC,CAACV,MACtC,CAAC;MAED,MAAMe,KAAK,GAAG;QACb,GAAGL,OAAO;QACV,GAAGC;MACJ,CAAC;;MAED;MACA,IAAId,IAAI,CAACE,MAAM,CAAC,CAAC,GAAG,GAAG,EAAE;QACxBgB,KAAK,CAACzB,KAAK,IAAIO,IAAI,CAACE,MAAM,CAAC,CAAC,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG;QAC9CgB,KAAK,CAAC,iBAAiB,CAAC,IAAIlB,IAAI,CAACE,MAAM,CAAC,CAAC,GAAG,GAAG,GAAG,CAAC,CAAC,GAAG,CAAC;MACzD;MAEAU,aAAa,CAACb,IAAI,CAACmB,KAAK,CAAC;IAC1B;IAEArB,UAAU,GAAGe,aAAa;EAC3B;;EAEA;EACA,OAAOf,UAAU,CAACsB,MAAM,CACvB,CAACC,IAAI,EAAE5B,IAAI,KAAK;IACf,MAAMc,OAAO,GAAGf,gBAAgB,CAACC,IAAI,CAAC;IACtC,OAAOc,OAAO,GAAGc,IAAI,CAACd,OAAO,GAAG;MAAEd,IAAI;MAAEc;IAAQ,CAAC,GAAGc,IAAI;EACzD,CAAC,EACD;IAAE5B,IAAI,EAAE,IAAI;IAAEc,OAAO,EAAE,CAACe;EAAS,CAClC,CAAC,CAAC7B,IAAI;AACP,CAAC;AAED,MAAM8B,eAAe,GAAGA,CAAA,KAAM;EAAAC,GAAA;EAC7B,MAAM,CAACC,QAAQ,EAAEC,WAAW,CAAC,GAAGtD,QAAQ,CAAC,IAAI,CAAC;EAE9CC,SAAS,CAAC,MAAM;IACf;IACA,MAAMoD,QAAQ,GAAG9B,gBAAgB,CAAC,GAAG,EAAE,EAAE,CAAC;IAC1C+B,WAAW,CAACD,QAAQ,CAAC;EACtB,CAAC,EAAE,EAAE,CAAC;EAEN,oBACClD,OAAA;IAAAoD,QAAA,gBACCpD,OAAA;MAAAoD,QAAA,EAAI;IAAkC;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAI,CAAC,eAC3CxD,OAAA;MAAAoD,QAAA,GAAG,0NAAyC,EAACF,QAAQ;IAAA;MAAAG,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAI,CAAC,EACzDN,QAAQ,iBACRlD,OAAA;MAAAoD,QAAA,gBACCpD,OAAA;QAAAoD,QAAA,GAAG,kCAAO,EAACF,QAAQ,CAAC,aAAa,CAAC;MAAA;QAAAG,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAI,CAAC,eACvCxD,OAAA;QAAAoD,QAAA,GAAG,4BAAM,EAACF,QAAQ,CAAC/B,KAAK;MAAA;QAAAkC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAI,CAAC,eAC7BxD,OAAA;QAAAoD,QAAA,GAAG,yFAAiB,EAACF,QAAQ,CAAC,iBAAiB,CAAC;MAAA;QAAAG,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAI,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAEjD,CACL;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACG,CAAC;AAER,CAAC;AAAAP,GAAA,CAvBKD,eAAe;AAAAS,GAAA,GAAfT,eAAe;AAyBrB,eAAeA,eAAe;AAAA,IAAAjC,EAAA,EAAA0C,GAAA;AAAAC,YAAA,CAAA3C,EAAA;AAAA2C,YAAA,CAAAD,GAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}